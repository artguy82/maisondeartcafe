
<!-- Desktop Background / Wrapper -->
<div class="relative w-full xl:h-full wave-bg flex flex-col xl:flex-row items-center xl:items-stretch justify-center px-0 xl:px-12 pt-0 xl:pt-12 gap-8 xl:gap-16 2xl:gap-32 xl:overflow-hidden xl:overscroll-none xl:touch-none">
  
  <!-- Left Side: Brand Info (Desktop Only - XL+) -->
  <aside class="hidden xl:flex flex-col items-start justify-center xl:max-w-md 2xl:max-w-2xl z-20 space-y-6 xl:space-y-8 2xl:space-y-12 shrink-0 transition-all duration-300">
    
    <!-- INFO ZONE -->
    <div class="aside-anim-item anim-slide-from-left aside-delay-1 w-full">
      <p class="text-5xl xl:text-6xl 2xl:text-8xl font-extralight text-gray-800 tracking-widest transition-all duration-300">Cafe</p>
      <h1 class="-ml-1 text-7xl xl:text-8xl 2xl:text-9xl font-extralight text-gray-800 tracking-widest leading-none mt-2 transition-all duration-300">
        MAISON<br>D'ART
      </h1>
      <div class="flex flex-row items-baseline mt-2 2xl:mt-4">
        <span class="text-5xl xl:text-6xl 2xl:text-8xl font-extralight text-gray-800 tracking-wide mr-3 transition-all duration-300">and</span>
        <div class="inline-block align-baseline">
            <div class="relative">
                <!-- Sizer element -->
                <div class="font-cursive text-6xl xl:text-7xl 2xl:text-9xl border-b-2 border-gray-800 pb-1 px-4 text-transparent select-none pointer-events-none transition-all duration-300">
                    Connection
                </div>
                <!-- The actual animated text -->
                <div class="absolute inset-0 font-cursive text-6xl xl:text-7xl 2xl:text-9xl flex justify-center items-end pb-1 transition-all duration-300">
                    <span class="bg-gradient-to-r from-purple-500 via-pink-500 to-orange-400 bg-clip-text text-transparent py-1 px-1 whitespace-nowrap">{{ displayedWord() }}</span><span class="typing-cursor bg-gradient-to-r from-purple-500 via-pink-500 to-orange-400"></span>
                </div>
            </div>
        </div>
      </div>
    </div>
    
    <div class="w-12 2xl:w-20 h-1.5 bg-gray-800 aside-anim-item anim-slide-from-left aside-delay-2 mt-2"></div>

    <p class="text-gray-500 font-normal leading-relaxed text-base xl:text-xl 2xl:text-3xl tracking-wide w-full text-left break-keep aside-anim-item anim-slide-from-left aside-delay-3 transition-all duration-300">
      일상에 지친 당신을 위한 특별한 힐링 공간. 메종디아트가 선사하는 특별한 체험과 함께 나만의 예술을 만나는 시간을 선물합니다.
    </p>

    <!-- ACTION HUB -->
    <div class="w-full space-y-4 2xl:space-y-6 pt-4">
        <!-- Primary CTA -->
        <a href="https://pcmap.place.naver.com/restaurant/1276609996/booking?entry=pll&fromNxList=true&fromPanelNum=2&locale=ko&searchText=%EB%A9%94%EC%A2%85%EB%94%94%EC%95%84%ED%8A%B8&svcName=map_pcv5&timestamp=202601041429" target="_blank" class="w-full flex items-center justify-center px-6 py-4 2xl:py-6 text-white rounded-full aside-anim-item anim-slide-from-bottom aside-delay-4 animated-gradient-bg transition-all duration-300 hover:scale-[1.02]">
            <span class="relative z-10 flex items-center justify-center gap-3 2xl:gap-5">
                <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/booking.png" alt="Booking Icon" width="20" height="20" class="w-5 h-5 2xl:w-8 2xl:h-8">
                <span class="font-bold text-lg 2xl:text-3xl whitespace-nowrap">예약 바로 가기</span>
            </span>
        </a>
        <!-- Secondary Actions -->
        <div class="grid grid-cols-2 gap-3 2xl:gap-5">
             <a href="http://talk.naver.com/w4f3ta?frm=pnmb&frm=nmb_detail" target="_blank" class="flex items-center justify-center gap-2 2xl:gap-4 px-4 py-3 2xl:py-5 text-white rounded-full bg-gradient-to-tr from-lime-400 to-green-500 aside-anim-item anim-slide-from-bottom aside-delay-5 text-sm 2xl:text-xl transition-all duration-300 hover:opacity-90">
                <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/naver-talk.png" alt="Naver Talk Icon" width="16" height="16" class="w-4 h-4 2xl:w-6 2xl:h-6">
                <span class="font-medium whitespace-nowrap">톡톡 문의</span>
            </a>
            <a href="http://pf.kakao.com/_tYxgCG/chat" target="_blank" class="flex items-center justify-center gap-2 2xl:gap-4 px-4 py-3 2xl:py-5 text-white rounded-full bg-gradient-to-tr from-yellow-400 to-orange-400 aside-anim-item anim-slide-from-bottom aside-delay-6 text-sm 2xl:text-xl transition-all duration-300 hover:opacity-90">
                <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/kakao-talk.png" alt="Kakao Talk Icon" width="16" height="16" class="w-4 h-4 2xl:w-6 2xl:h-6">
                <span class="font-medium whitespace-nowrap">카톡 문의</span>
            </a>
        </div>
        <div class="grid grid-cols-3 gap-3 2xl:gap-5">
            <a href="https://m.smartstore.naver.com/maisondeartcafe" target="_blank" class="flex items-center justify-center gap-2 2xl:gap-3 px-4 py-3 2xl:py-5 bg-white/40 hover:bg-white/60 text-gray-800 rounded-full aside-anim-item anim-slide-from-bottom aside-delay-7 transition-all duration-300 text-sm 2xl:text-xl">
                <span class="font-extrabold text-green-600 2xl:text-2xl">N</span>
                <span class="font-bold">스토어</span>
            </a>
            <a href="https://m.blog.naver.com/maisondeart" target="_blank" class="flex items-center justify-center gap-2 2xl:gap-3 px-4 py-3 2xl:py-5 bg-white/40 hover:bg-white/60 text-gray-800 rounded-full aside-anim-item anim-slide-from-bottom aside-delay-8 transition-all duration-300 text-sm 2xl:text-xl">
                <span class="font-extrabold text-green-600 2xl:text-2xl">N</span>
                <span class="font-bold">블로그</span>
            </a>
            <a href="https://www.instagram.com/maisondeartcafe/" target="_blank" class="flex items-center justify-center gap-2 2xl:gap-3 px-4 py-3 2xl:py-5 bg-white/40 hover:bg-white/60 text-gray-800 rounded-full aside-anim-item anim-slide-from-bottom aside-delay-9 transition-all duration-300 text-sm 2xl:text-xl">
                <svg class="w-4 h-4 2xl:w-6 2xl:h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <defs>
                    <linearGradient id="instagram-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#feda75;"></stop>
                      <stop offset="25%" style="stop-color:#fa7e1e;"></stop>
                      <stop offset="50%" style="stop-color:#d62976;"></stop>
                      <stop offset="75%" style="stop-color:#962fbf;"></stop>
                      <stop offset="100%" style="stop-color:#4f5bd5;"></stop>
                    </linearGradient>
                  </defs>
                  <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="url(#instagram-gradient)"></rect>
                  <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" stroke="url(#instagram-gradient)"></path>
                  <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="url(#instagram-gradient)"></line>
                </svg>
                <span class="font-bold">인스타</span>
            </a>
        </div>
    </div>
  </aside>

  <!-- Right Side: Device Frame (Now triggers at XL/1280px) -->
  <div class="touch-pan-y relative z-10 w-full xl:w-auto xl:grow-0 xl:h-full bg-white xl:rounded-t-[2.5rem] xl:shadow-2xl flex flex-col xl:border-[8px] xl:border-b-0 xl:border-gray-900 box-border ring-1 ring-white/20 xl:max-w-[820px] 2xl:max-w-[900px] xl:overflow-hidden transition-all duration-300">
    
    <!-- Header -->
    <header class="fixed xl:absolute top-0 left-0 right-0 z-50 h-16 flex items-center px-4 lg:px-6 pointer-events-none">
      <!-- Logo for Mobile/Tablet Menu Header -->
      @if (isMenuOpen()) {
        <!-- Hidden in Popover mode as per new design request (cleaner look) -->
        <div class="xl:hidden"></div>
      } @else {
        <div class="xl:hidden"></div>
      }

      <!-- Mobile/Tablet Hamburger -->
      <button class="ml-auto p-2 xl:hidden pointer-events-auto z-50 transition-colors duration-300" 
              [class.text-gray-900]="isMenuButtonDark()"
              [class.text-white]="!isMenuButtonDark()"
              (click)="toggleMenu()">
        @if (!isMenuOpen()) {
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        } @else {
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        }
      </button>
    </header>
    
    <!-- Mobile Like Bubble -->
    <div class="xl:hidden fixed top-10 left-0 right-0 w-full flex justify-center pointer-events-none z-30 transition-opacity duration-300 ease-in-out"
         [class.opacity-0]="!isLikeBubbleVisible()">
      <div (click)="hideLikeBubble()" class="bg-orange-500 text-white text-xs rounded-full px-3 py-1 shadow-lg whitespace-nowrap font-bold cursor-pointer pointer-events-auto speech-bubble-anim" style="font-family: 'Paperozi', sans-serif;">
        프로그램이 마음에 들었다면 ♡ 꾹!
      </div>
    </div>

    <!-- Mobile Menu Popover (Top-Right, Auto Sized) -->
    @if (isMenuOpen()) {
      <!-- Backdrop for clicking outside -->
      <div (click)="closeMenu()" class="fixed inset-0 z-40 bg-black/10 backdrop-blur-[2px] xl:hidden transition-opacity duration-300"></div>

      <!-- Popover Menu -->
      <div class="fixed top-16 right-4 sm:right-6 z-50 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-gray-100 p-6 xl:hidden origin-top-right animate-menu-pop w-[calc(100vw-2rem)] sm:w-auto sm:min-w-[300px]">
        
        <!-- Responsive Layout: Vertical on Portrait (default), Horizontal on Landscape -->
        <div class="flex flex-col landscape:flex-row lg:flex-row items-stretch justify-center gap-6">
    
          <!-- Left: Nav Links -->
          <div class="flex flex-col gap-3 text-center landscape:text-left lg:text-left min-w-[140px]">
            <button (click)="scrollToSection('intro')" class="text-lg font-bold text-gray-800 hover:text-orange-500 py-1 transition-colors">힐링아트</button>
            <button (click)="scrollToSection('programs')" class="text-lg font-bold text-gray-800 hover:text-orange-500 py-1 transition-colors">프로그램</button>
            <button (click)="scrollToSection('group')" class="text-lg font-bold text-gray-800 hover:text-orange-500 py-1 transition-colors">단체/출강/행사</button>
            <button (click)="scrollToSection('faq')" class="text-lg font-bold text-gray-800 hover:text-orange-500 py-1 transition-colors">자주 묻는 질문</button>
            <button (click)="scrollToSection('contact')" class="text-lg font-bold text-gray-800 hover:text-orange-500 py-1 transition-colors">이용안내</button>
          </div>
    
          <!-- Divider -->
          <!-- Horizontal line for Portrait (Vertical Layout) -->
          <div class="block landscape:hidden lg:hidden w-full h-px bg-gray-200"></div>
          <!-- Vertical line for Landscape (Horizontal Layout) -->
          <div class="hidden landscape:block lg:block w-px self-stretch bg-gray-200"></div>
    
          <!-- Right: Buttons -->
          <div class="flex flex-col items-center justify-center gap-4 min-w-[200px]">
              <div class="grid grid-cols-3 gap-2 w-full">
                  <a href="https://m.smartstore.naver.com/maisondeartcafe" target="_blank" class="flex flex-col items-center justify-center gap-1 p-2 bg-gray-50 hover:bg-gray-100 text-gray-800 rounded-xl text-xs font-bold transition-colors">
                      <span class="font-extrabold text-green-600 text-sm">N</span><span>스토어</span>
                  </a>
                  <a href="https://m.blog.naver.com/maisondeart" target="_blank" class="flex flex-col items-center justify-center gap-1 p-2 bg-gray-50 hover:bg-gray-100 text-gray-800 rounded-xl text-xs font-bold transition-colors">
                      <span class="font-extrabold text-green-600 text-sm">N</span><span>블로그</span>
                  </a>
                  <a href="https://www.instagram.com/maisondeartcafe/" target="_blank" class="flex flex-col items-center justify-center gap-1 p-2 bg-gray-50 hover:bg-gray-100 text-gray-800 rounded-xl text-xs font-bold transition-colors">
                      <svg class="w-4 h-4 mb-0.5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <defs>
                          <linearGradient id="ig-grad-pop" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#feda75;"></stop>
                            <stop offset="25%" style="stop-color:#fa7e1e;"></stop>
                            <stop offset="50%" style="stop-color:#d62976;"></stop>
                            <stop offset="75%" style="stop-color:#962fbf;"></stop>
                            <stop offset="100%" style="stop-color:#4f5bd5;"></stop>
                          </linearGradient>
                        </defs>
                        <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="url(#ig-grad-pop)"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" stroke="url(#ig-grad-pop)"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="url(#ig-grad-pop)"></line>
                      </svg>
                      <span>인스타</span>
                  </a>
              </div>
              
               <div class="grid grid-cols-2 gap-2 w-full">
                  <a href="http://talk.naver.com/w4f3ta?frm=pnmb&frm=nmb_detail" target="_blank" class="w-full flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg bg-gradient-to-tr from-lime-400 to-green-500 text-xs shadow-sm hover:shadow-md transition-all">
                      <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/naver-talk.png" alt="Icon" width="14" height="14"><span>톡톡 문의</span>
                  </a>
                  <a href="http://pf.kakao.com/_tYxgCG/chat" target="_blank" class="w-full flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg bg-gradient-to-tr from-yellow-400 to-orange-400 text-xs shadow-sm hover:shadow-md transition-all">
                      <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/kakao-talk.png" alt="Icon" width="14" height="14"><span>카톡 문의</span>
                  </a>
              </div>
              <a href="https://pcmap.place.naver.com/restaurant/1276609996/booking?entry=pll&fromNxList=true&fromPanelNum=2&locale=ko&searchText=%EB%A9%94%EC%A2%85%EB%94%94%EC%95%84%ED%8A%B8&svcName=map_pcv5&timestamp=202601041429" target="_blank" class="w-full flex items-center justify-center px-4 py-3 text-white rounded-xl animated-gradient-bg text-sm font-bold shadow-md hover:shadow-lg transition-all active:scale-95">
                  <span class="relative z-10 flex items-center justify-center gap-2">
                      <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/booking.png" alt="Booking Icon" width="16" height="16"><span>예약 바로 가기</span>
                  </span>
              </a>
          </div>
        </div>
      </div>
    }

    <!-- Scrollable Content Area -->
    <main #scrollContainer class="touch-pan-y scroll-container relative w-full xl:h-full xl:overflow-y-auto pt-0 bg-white xl:rounded-t-[calc(2.5rem-8px)]">
      
      <!-- 1. Main Banner -->
      <section id="home" class="relative z-10 w-full h-screen flex items-center justify-center overflow-hidden bg-black xl:rounded-t-[calc(2.5rem-8px)]">
        @for (image of bannerImages; track $index; let i = $index) {
          <img [ngSrc]="image" fill [priority]="i === 0" class="banner-image brightness-75 object-cover" [class.active]="currentBannerIndex() === i && isInitialBannerAnimationTriggered()" alt="메종디아트 드로잉 카페 전경 {{ i + 1 }}">
        }
        <div class="absolute top-0 left-0 w-full h-24 bg-gradient-to-b from-black/50 to-transparent z-10"></div>
        <div class="relative z-10 text-center text-white px-4">
          <div class="banner-anim-item anim-delay-3 relative inline-block my-5 md:my-10 xl:my-10">
            <div class="relative line-anim-container">
              <p class="text-xs md:text-xl xl:text-base font-medium tracking-[0.2em] uppercase">Premium Drawing Cafe</p>
            </div>
          </div>
          <h1 class="text-4xl md:text-7xl xl:text-6xl font-light mb-6 md:mb-12 xl:mb-12 leading-tight">
            <span class="banner-anim-item anim-delay-1 inline-block tracking-wider">MAISON D'ART</span><br>
            <span class="text-2xl md:text-5xl xl:text-4xl font-light banner-anim-item anim-delay-2 inline-block md:mt-2">Drawing Cafe</span>
          </h1>
          <p class="text-white/90 text-sm md:text-xl xl:text-base font-light max-w-md mx-auto banner-anim-item anim-delay-4 md:leading-relaxed">일상에 지친 당신을 위한 특별한 힐링 공간<br>메종디아트에서 나만의 예술을 만나보세요.</p>
        </div>
      </section>

      <!-- 2. Introduction -->
      <section id="intro" class="relative z-10 py-24 px-6 bg-[#fdfbf8] overflow-hidden">
        <div #floatingImage1 class="absolute bottom-16 md:bottom-0 left-0 z-[5] w-64 h-80 md:w-[30rem] md:h-[40rem] xl:w-[32rem] xl:h-[40rem] pointer-events-none parallax-element">
          <div class="floating-bounce fill-image-container"><img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/bear.png" alt="Floating bear" fill class="object-contain object-left-bottom" priority></div>
        </div>
        <div #floatingImage2 class="absolute top-24 md:top-0 right-0 z-[5] w-64 h-80 md:w-[30rem] md:h-[40rem] xl:w-[32rem] xl:h-[40rem] pointer-events-none parallax-element">
          <div class="floating-bounce-delayed fill-image-container"><img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/bear2.png" alt="Floating bear 2" fill class="object-contain object-right-top" priority></div>
        </div>
        <div class="absolute top-1/4 left-0 w-64 h-64 bg-orange-100/50 rounded-full blur-3xl -translate-x-1/2"></div>
        <div class="absolute bottom-1/4 right-0 w-64 h-64 bg-blue-100/50 rounded-full blur-3xl translate-x-1/2"></div>
        <div class="max-w-6xl mx-auto text-center relative z-10">
          <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/simbol.png" width="80" height="80" class="mx-auto mb-6 opacity-80" alt="메종디아트 심볼" priority>
          <h2 class="font-cursive text-4xl md:text-5xl text-orange-500 mb-4">What color was your day?</h2>
          <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6 leading-snug">혹시, 당신의 오늘 하루는<br>어떤 색이었나요?</h3>
          <p class="text-gray-600 font-normal leading-relaxed max-w-2xl mx-auto mb-16">반복되는 무채색의 일상에 지쳤다면, 잠시 멈춰 나만의 색을 찾아보세요.<br>메종디아트는 캔버스 위에서 잃어버렸던 감각을 깨우고,<br>마음의 온도를 되찾는 따뜻한 경험을 선물합니다.</p>
          <div class="grid grid-cols-1 gap-6 text-left max-w-lg mx-auto">
            <div class="bg-white/60 backdrop-blur-sm p-6 rounded-2xl border border-gray-200/50 shadow-sm hover:shadow-lg transition-shadow duration-300 flex items-center gap-6">
              <div class="flex-shrink-0"><img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/heal1.png" width="96" height="96" alt="Icon 1" class="w-20 h-20 md:w-24 md:h-24 object-contain"></div>
              <div><h4 class="font-bold text-gray-800 mb-2">완성의 즐거움</h4><p class="text-sm font-light text-gray-600 leading-6">"나도 할 수 있을까?" 하는 망설임은 잠시 접어두세요. 전문가의 도움으로 누구나 멋진 작품을 완성하며, 잊고 있던 성취감과 자신감을 되찾게 될 거예요.</p></div>
            </div>
            <div class="bg-white/60 backdrop-blur-sm p-6 rounded-2xl border border-gray-200/50 shadow-sm hover:shadow-lg transition-shadow duration-300 flex items-center gap-6">
              <div class="flex-shrink-0"><img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/heal2.png" width="96" height="96" alt="Icon 2" class="w-20 h-20 md:w-24 md:h-24 object-contain"></div>
              <div><h4 class="font-bold text-gray-800 mb-2">잡념이 사라지는 몰입</h4><p class="text-sm font-light text-gray-600 leading-6">복잡한 생각은 잠시 캔버스 뒤로 넘겨두세요. 붓이 지나가는 길을 따라 시선을 옮기다 보면, 어느새 머릿속은 맑아지고 마음에는 잔잔한 평온이 찾아옵니다.</p></div>
            </div>
            <div class="bg-white/60 backdrop-blur-sm p-6 rounded-2xl border border-gray-200/50 shadow-sm hover:shadow-lg transition-shadow duration-300 flex items-center gap-6">
              <div class="flex-shrink-0"><img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/heal3.png" width="96" height="96" alt="Icon 3" class="w-20 h-20 md:w-24 md:h-24 object-contain"></div>
              <div><h4 class="font-bold text-gray-800 mb-2">함께 쌓아가는 추억</h4><p class="text-sm font-light text-gray-600 leading-6">소중한 사람과 마주 앉아 서로의 그림을 바라보는 시간. 말로 다 전하지 못한 마음을 색채에 담아보세요. 함께 완성한 작품은 우리를 이어주는 가장 특별한 연결고리가 됩니다.</p></div>
            </div>
          </div>
        </div>
      </section>

      <!-- 3. Healing Art (Header) -->
      <section id="healing-art" class="relative z-10 py-24 md:py-32 bg-gray-800 text-white overflow-hidden">
        <div class="absolute inset-0 z-0 overflow-hidden">
          <div #healingParallaxBg class="absolute top-[-10%] left-0 w-full h-[120%] parallax-element">
            <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/healing.jpg" fill class="object-cover" alt="Healing Art Background" priority sizes="100vw">
          </div>
        </div>
        <div class="relative z-10 max-w-3xl mx-auto px-6 text-center">
          <div class="bg-black/30 border border-white/20 rounded-2xl p-8 md:p-12">
            <h2 class="text-green-400 text-sm font-bold tracking-widest mb-2">HEALING ART</h2>
            <h3 class="text-4xl md:text-5xl font-extrabold mb-6">힐링아트로 내면의<br>나를 치유 하다</h3>
            <p class="text-white font-normal leading-relaxed max-w-2xl mx-auto mb-6">스트레스, 불안, 걱정. 일상 속에서 흔히 마주하는 이런 감정들이 계속 쌓이면, 눈에 보이지 않는 마음의 병이 되기도 합니다.</p>
            <p class="text-white font-normal leading-relaxed max-w-2xl mx-auto mb-6"><span class="text-green-300 font-semibold">'미술치료'</span>는 예술적 표현을 통해 개인의 감정, 생각, 경험을 탐구하며 심리적, 신체적 문제를 해결하는 중요한 치유 과정입니다. 특히 언어적 표현이 어려운 분들에게 효과적이죠.</p>
            <p class="text-white font-bold leading-relaxed max-w-2xl mx-auto">메종디아트는 이러한 미술치료의 일환으로, 누구나 손쉽게 일상의 스트레스를 풀어낼 수 있는 미술 케어, 즉 <span class="text-white underline decoration-wavy decoration-green-400/80">'힐링아트'</span> 체험을 진행하고 있습니다.</p>
          </div>
        </div>
      </section>

      <!-- New Sticky Desktop Navigation (Only on XL+) -->
      <nav id="desktopNav" #desktopNav class="hidden xl:flex sticky top-0 z-[100] justify-center items-center gap-x-8 xl:gap-x-12 py-4 bg-white/90 backdrop-blur-sm border-b border-gray-100 shadow-sm w-full xl:rounded-t-[calc(2.5rem-8px)]">
        <button (click)="scrollToSection('intro')" class="text-sm font-semibold text-gray-700 hover:text-orange-500 transition-colors" [class.text-orange-500]="activeDesktopNav() === 'intro'">힐링아트</button>
        <div class="relative">
          <button (click)="scrollToSection('programs')" class="text-sm font-semibold text-gray-700 hover:text-orange-500 transition-colors" [class.text-orange-500]="activeDesktopNav() === 'programs'">프로그램</button>
          <div (click)="hideLikeBubble()" class="absolute top-full mt-3 left-1/2 -translate-x-1/2 w-max cursor-pointer z-20 transition-opacity duration-300 ease-in-out" [class.opacity-0]="!isLikeBubbleVisible()" [class.pointer-events-none]="!isLikeBubbleVisible()">
            <div class="relative speech-bubble-anim">
              <div class="bg-orange-500 text-white text-[10px] rounded-md px-2.5 py-1 shadow-lg whitespace-nowrap font-bold" style="font-family: 'Paperozi', sans-serif;">프로그램이 마음에 들었다면 ♡ 꾹!</div>
              <div class="absolute -top-1.5 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[6px] border-b-orange-500"></div>
            </div>
          </div>
        </div>
        <button (click)="scrollToSection('group')" class="text-sm font-semibold text-gray-700 hover:text-orange-500 transition-colors" [class.text-orange-500]="activeDesktopNav() === 'group'">단체/출강/행사</button>
        <button (click)="scrollToSection('faq')" class="text-sm font-semibold text-gray-700 hover:text-orange-500 transition-colors" [class.text-orange-500]="activeDesktopNav() === 'faq'">자주 묻는 질문</button>
        <button (click)="scrollToSection('contact')" class="text-sm font-semibold text-gray-700 hover:text-orange-500 transition-colors" [class.text-orange-500]="activeDesktopNav() === 'contact'">이용안내</button>
      </nav>

      <!-- 4. Programs -->
      <section id="programs" class="relative z-10 py-16 bg-white overflow-hidden">
        <div class="absolute inset-0 z-0">
            <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/back.jpg" fill class="object-cover opacity-30" alt="Programs Background Pattern" loading="lazy">
        </div>

        <div class="relative z-10">
            <div class="text-center mb-12 px-4 md:px-8">
              <h2 class="text-orange-500 text-sm font-bold tracking-widest mb-2">PROGRAMS</h2>
              <h3 class="text-3xl md:text-4xl font-extrabold text-gray-800">체험 & 클래스</h3>
              <p class="mt-4 text-gray-600 text-sm max-w-2xl mx-auto leading-relaxed">
                다양한 목적에 맞춘 메종디아트만의 특별한 프로그램을 소개합니다.<br>
                가볍게 즐기는 체험부터 전문적인 원데이 클래스까지 만나보세요.
              </p>
            </div>
    
            <!-- Info Notice Box -->
            <div class="w-full flex justify-center px-4 md:px-8 mb-12">
                <div class="inline-flex flex-col md:flex-row gap-6 items-center md:items-center bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 md:p-8 text-left shadow-sm max-w-[900px]">
                    <div class="flex-shrink-0">
                        <img ngSrc="https://raw.githubusercontent.com/artguy82/maisondeart/main/web/notice.png" width="120" height="120" alt="Notice Icon" class="w-20 h-auto md:w-28 object-contain">
                    </div>
                    <div class="text-sm text-gray-600 space-y-1.5 font-normal leading-relaxed break-keep">
                        <p class="text-gray-800 font-bold mb-1">메종디아트 체험 및 클래스는 '1인 1체험' 으로 '네이버 예약제' 로 운영 되고 있습니다.</p>
                        <p>* 당일 예약일 경우 희망 <span class="font-bold text-gray-700">'체험시간 1시간 전'</span> 까지 예약이 가능 하니 이 점 참고 바랍니다.</p>
                        <p>프로그램에 대한 상담을 원하실 경우라도 네이버 <span class="font-bold text-gray-700">'방문 예약'</span> 을 신청 해 주시면 감사하겠습니다.</p>
                        <p>미취학 아동 보호자로 이용 원하 실 경우 <span class="font-bold text-gray-700">'보호자 입장권'</span> 구매 필수 입니다.</p>
                        <p>모든 클래스 및 체험은 2시간 기준이며 기본 코칭과 마무리를 도와 드립니다.</p>
                    </div>
                </div>
            </div>
    
            <div id="experience-section" class="mb-12">
              <div class="flex items-center justify-between mb-6 px-4 md:px-8">
                <div class="flex items-center gap-3">
                    <div class="w-1.5 h-8 bg-orange-500 rounded-full shadow-sm"></div>
                    <h4 class="text-2xl font-bold text-gray-800">힐링아트 체험</h4>
                </div>
                <div class="flex items-center gap-2">
                  <button (click)="prevExperience()" [disabled]="experienceIndex() === 0" class="bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-full p-2 shadow-sm transition-colors border border-gray-200">
                    <svg class="w-4 h-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                  </button>
                  <button (click)="nextExperience()" [disabled]="experienceIndex() >= getMaxIndex('experience')" class="bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-full p-2 shadow-sm transition-colors border border-gray-200">
                     <svg class="w-4 h-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                  </button>
                </div>
              </div>
              <div class="overflow-hidden slider-container" (mousedown)="dragStart($event, 'experience')" (touchstart)="dragStart($event, 'experience')">
                <div #experienceSlider class="flex gap-4 px-4 md:px-8">
                  @for (item of experiences; track item.id) {
                    <div class="w-[85vw] md:w-96 flex-shrink-0 hardware-accelerate" (mouseenter)="preloadProgramImages(item)" (touchstart)="preloadProgramImages(item)">
                      <div class="group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all border border-gray-100 h-full flex flex-col">
                        <div class="relative h-48 overflow-hidden bg-gray-100">
                          <img [ngSrc]="item.image" [alt]="item.title" fill class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" draggable="false" sizes="(max-width: 768px) 85vw, (max-width: 1200px) 50vw, 33vw" [priority]="$index <= 1">
                          @if (isLikeFeatureAvailable()) {
                            <button (click)="handleLike(item, $event)"
                                    class="like-button absolute top-2 right-2 z-10 flex items-center gap-2 text-gray-700 bg-white/70 backdrop-blur-sm rounded-full py-1 pl-2 pr-3 shadow-md transition-transform hover:scale-105 active:scale-95 group/like"
                                    [class.liked]="likedPrograms().has(item.id)">
                              <svg class="w-5 h-5 heart-icon transition-colors duration-300" 
                                  [class.text-red-500]="likedPrograms().has(item.id)" 
                                  [ngClass]="!likedPrograms().has(item.id) ? 'group-hover/like:text-red-400' : ''"
                                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path [attr.fill-rule]="likedPrograms().has(item.id) ? 'evenodd' : 'nonzero'" d="M12.001 4.529a5.998 5.998 0 018.242 8.242L12 21l-8.243-8.229a5.998 5.998 0 018.242-8.242z" [attr.fill]="likedPrograms().has(item.id) ? 'currentColor' : 'none'" [attr.stroke]="likedPrograms().has(item.id) ? 'none' : 'currentColor'" stroke-width="1.5" />
                              </svg>
                              <span class="font-bold text-sm min-w-[16px] text-left" [class.text-red-500]="likedPrograms().has(item.id)">{{ likeCounts()[item.id] || 0 }}</span>
                            </button>
                          }
                        </div>
                        <div class="p-5 flex flex-col flex-grow">
                          <div class="flex flex-wrap gap-2 mb-2">
                            @for (tag of item.tags; track tag) {
                              <span class="text-[10px] bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full font-medium">#{{tag}}</span>
                            }
                          </div>
                          <h5 class="text-lg font-bold text-gray-800 mb-1">{{item.title}}</h5>
                          <p class="text-sm font-normal text-gray-500 flex-grow">{{item.desc}}</p>
                          <div class="mt-auto pt-4">
                            <button (click)="openProgramPopup(item)" class="w-full text-center py-2.5 px-4 bg-orange-100 text-orange-700 font-bold rounded-lg hover:bg-orange-200 transition-colors text-sm">자세히 보기</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  }
                </div>
              </div>
              <div class="px-4 md:px-8 h-5"></div>
            </div>
    
            <div id="class-section" class="mb-12">
               <div class="flex items-center justify-between mb-6 px-4 md:px-8">
                <div class="flex items-center gap-3">
                    <div class="w-1.5 h-8 bg-blue-500 rounded-full shadow-sm"></div>
                    <h4 class="text-2xl font-bold text-gray-800">원데이 클래스</h4>
                </div>
                <div class="flex items-center gap-2">
                  <button (click)="prevClass()" [disabled]="classIndex() === 0" class="bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-full p-2 shadow-sm transition-colors border border-gray-200">
                    <svg class="w-4 h-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                  </button>
                  <button (click)="nextClass()" [disabled]="classIndex() >= getMaxIndex('class')" class="bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-full p-2 shadow-sm transition-colors border border-gray-200">
                     <svg class="w-4 h-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                  </button>
                </div>
              </div>
              <div class="overflow-hidden slider-container" (mousedown)="dragStart($event, 'class')" (touchstart)="dragStart($event, 'class')">
                <div #classSlider class="flex gap-4 px-4 md:px-8">
                  @for (item of oneDayClasses; track item.id) {
                    <div class="w-[85vw] md:w-96 flex-shrink-0 hardware-accelerate" (mouseenter)="preloadProgramImages(item)" (touchstart)="preloadProgramImages(item)">
                      <div class="group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all border border-gray-100 h-full flex flex-col">
                        <div class="relative h-48 overflow-hidden bg-gray-100">
                          <img [ngSrc]="item.image" [alt]="item.title" fill class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" draggable="false" sizes="(max-width: 768px) 85vw, (max-width: 1200px) 50vw, 33vw" [priority]="$index <= 1">
                           <div class="absolute top-2 left-2 bg-white/90 px-2 py-1 rounded text-xs font-bold text-gray-800">예약필수</div>
                          @if (isLikeFeatureAvailable()) {
                            <button (click)="handleLike(item, $event)"
                                    class="like-button absolute top-2 right-2 z-10 flex items-center gap-2 text-gray-700 bg-white/70 backdrop-blur-sm rounded-full py-1 pl-2 pr-3 shadow-md transition-transform hover:scale-105 active:scale-95 group/like"
                                    [class.liked]="likedPrograms().has(item.id)">
                              <svg class="w-5 h-5 heart-icon transition-colors duration-300"
                                  [class.text-red-500]="likedPrograms().has(item.id)"
                                  [ngClass]="!likedPrograms().has(item.id) ? 'group-hover/like:text-red-400' : ''"
                                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path [attr.fill-rule]="likedPrograms().has(item.id) ? 'evenodd' : 'nonzero'" d="M12.001 4.529a5.998 5.998 0 018.242 8.242L12 21l-8.243-8.229a5.998 5.998 0 018.242-8.242z" [attr.fill]="likedPrograms().has(item.id) ? 'currentColor' : 'none'" [attr.stroke]="likedPrograms().has(item.id) ? 'none' : 'currentColor'" stroke-width="1.5" />
                              </svg>
                              <span class="font-bold text-sm min-w-[16px] text-left" [class.text-red-500]="likedPrograms().has(item.id)">{{ likeCounts()[item.id] || 0 }}</span>
                            </button>
                          }
                        </div>
                        <div class="p-5 flex flex-col flex-grow">
                          <div class="flex flex-wrap gap-2 mb-2">
                            @for (tag of item.tags; track tag) {
                              <span class="text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium">#{{tag}}</span>
                            }
                          </div>
                          <h5 class="text-lg font-bold text-gray-800 mb-1">{{item.title}}</h5>
                          <p class="text-sm font-normal text-gray-500 flex-grow">{{item.desc}}</p>
                          <div class="mt-auto pt-4">
                            <button (click)="openProgramPopup(item)" class="w-full text-center py-2.5 px-4 bg-orange-100 text-orange-700 font-bold rounded-lg hover:bg-orange-200 transition-colors text-sm">자세히 보기</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  }
                </div>
              </div>
               <div class="px-4 md:px-8 h-5"></div>
            </div>
    
            <div id="special-section">
              <div class="flex items-center justify-between mb-6 px-4 md:px-8">
                <div class="flex items-center gap-3">
                    <div class="w-1.5 h-8 bg-purple-500 rounded-full shadow-sm"></div>
                    <h4 class="text-2xl font-bold text-gray-800">스페셜 프로그램</h4>
                </div>
                <div class="flex items-center gap-2">
                  <button (click)="prevSpecial()" [disabled]="specialIndex() === 0" class="bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-full p-2 shadow-sm transition-colors border border-gray-200">
                    <svg class="w-4 h-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                  </button>
                  <button (click)="nextSpecial()" [disabled]="specialIndex() >= getMaxIndex('special')" class="bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-full p-2 shadow-sm transition-colors border border-gray-200">
                     <svg class="w-4 h-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                  </button>
                </div>
              </div>
              <div class="overflow-hidden slider-container" (mousedown)="dragStart($event, 'special')" (touchstart)="dragStart($event, 'special')">
                <div #specialSlider class="flex gap-4 px-4 md:px-8">
                  @for (item of specialPrograms; track item.id) {
                    <div class="w-[90vw] md:w-[480px] flex-shrink-0 hardware-accelerate">
                      <div class="group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all border border-gray-100 h-full flex flex-col">
                        <div class="relative h-60 overflow-hidden bg-gray-100">
                          <img [ngSrc]="item.image" [alt]="item.title" fill class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" draggable="false" sizes="(max-width: 768px) 90vw, (max-width: 1200px) 60vw, 40vw" [priority]="$index <= 1">
                          @if (isLikeFeatureAvailable()) {
                            <button (click)="handleLike(item, $event)"
                                    class="like-button absolute top-2 right-2 z-10 flex items-center gap-2 text-gray-700 bg-white/70 backdrop-blur-sm rounded-full py-1 pl-2 pr-3 shadow-md transition-transform hover:scale-105 active:scale-95 group/like"
                                    [class.liked]="likedPrograms().has(item.id)">
                              <svg class="w-5 h-5 heart-icon transition-colors duration-300"
                                  [class.text-red-500]="likedPrograms().has(item.id)"
                                  [ngClass]="!likedPrograms().has(item.id) ? 'group-hover/like:text-red-400' : ''"
                                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path [attr.fill-rule]="likedPrograms().has(item.id) ? 'evenodd' : 'nonzero'" d="M12.001 4.529a5.998 5.998 0 018.242 8.242L12 21l-8.243-8.229a5.998 5.998 0 018.242-8.242z" [attr.fill]="likedPrograms().has(item.id) ? 'currentColor' : 'none'" [attr.stroke]="likedPrograms().has(item.id) ? 'none' : 'currentColor'" stroke-width="1.5" />
                              </svg>
                              <span class="font-bold text-sm min-w-[16px] text-left" [class.text-red-500]="likedPrograms().has(item.id)">{{ likeCounts()[item.id] || 0 }}</span>
                            </button>
                          }
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                          <div class="flex justify-between items-start">
                            <div>
                              <div class="flex flex-wrap gap-2 mb-3">
                                @for (tag of item.tags; track tag) {
                                  <span class="text-[10px] bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-medium">#{{tag}}</span>
                                }
                              </div>
                              <h5 class="text-xl font-bold text-gray-800 mb-1">{{item.title}}</h5>
                              <p class="text-sm font-bold text-orange-600 mb-3">{{item.desc}}</p>
                            </div>
                          </div>
                          
                          <div class="flex-grow">
                            @if (item.subDescription) {
                              <ul class="space-y-1.5 mb-4">
                                @for (desc of item.subDescription; track desc) {
                                  <li class="text-sm text-gray-600 font-normal flex items-start gap-2">
                                    <span class="text-purple-400 mt-0.5 flex-shrink-0">✔</span>
                                    <span class="leading-relaxed">{{desc}}</span>
                                  </li>
                                }
                              </ul>
                            } @else if (item.detailedDesc) {
                               <div class="text-sm text-gray-600 font-normal leading-relaxed whitespace-pre-line">
                                {{item.detailedDesc}}
                              </div>
                            }
                            @if (item.pricing) {
                              <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-100 mt-4 shadow-sm">
                                 @if(item.pricingTitle) {
                                   <h6 class="font-bold text-gray-800 flex items-center gap-2 mb-2 text-sm">
                                     <span class="text-base">🎁</span> {{item.pricingTitle}}
                                   </h6>
                                 }
                                 @for (p of item.pricing; track p.price) {
                                   <div class="flex justify-between items-center py-1.5 border-b border-purple-100/50 last:border-0" [class.bg-white]="p.highlight" [class.rounded-lg]="p.highlight" [class.px-2]="p.highlight" [class.-mx-2]="p.highlight" [class.shadow-sm]="p.highlight">
                                     <span class="font-bold text-gray-700 text-sm" [class.text-purple-900]="p.highlight">
                                        <span class="inline-block mr-1 text-gray-400" [class.text-purple-400]="p.highlight">•</span>{{p.price}}
                                     </span>
                                     <span class="font-extrabold text-sm" [class.text-pink-600]="p.highlight" [class.text-pink-500]="!p.highlight">{{p.bonus}}</span>
                                   </div>
                                 }
                              </div>
                            }
                            @if (item.recommendations) {
                              <div class="bg-gray-50 rounded-xl p-4 mt-4 border border-gray-100">
                                 <h6 class="font-bold text-gray-800 flex items-center gap-2 mb-2 text-sm">
                                   <span class="text-base">👍</span> {{item.recommendations.title}}
                                 </h6>
                                 <ul class="space-y-1">
                                   @for (rec of item.recommendations.items; track rec) {
                                     <li class="text-xs text-gray-600 flex items-start gap-2 leading-relaxed">
                                       <span class="text-gray-400 mt-0.5">•</span> {{rec}}
                                     </li>
                                   }
                                 </ul>
                              </div>
                            }
                          </div>
                        </div>
                      </div>
                    </div>
                  }
                </div>
              </div>
               <div class="px-4 md:px-8 h-5"></div>
            </div>
        </div>
      </section>
